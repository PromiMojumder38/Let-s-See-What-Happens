<!DOCTYPE html>
<html lang = "en">
<head>
    <meta charset="UTF-8">
    <title>Miracles of Math</title>
    <link rel="icon" type="image/x-icon" href="Images/logo2.png">
    <link rel = "stylesheet" href = "style.css">
    <link rel = "stylesheet" href = "login.css">
    <link rel = "stylesheet" href = "https://use.fontawesome.com/releases/v5.0.7/css/all.css">
    
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css" integrity="sha512-YWzhKL2whUzgiheMoBFwW8CKV4qpHQAEuvilg9FAn5VJUDwKZZxkJNuGM4XkWuk94WCrrwslk8yWNGmY1EduTA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
 <meta http-equiv="X-UA-Compatible" content = "IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
 <nav>
    
    <a href = "index.html"><img src="images/logo.png"><h4>&nbsp&nbsp;Miracles of Math</h4></a>
    <div class="navigation">
        <ul>
          <li><a href="index.html">HOME</a></li>
          <li><a href="problems.html">PROBLEMS</a></li>
          <li><a href="contest.html">CONTESTS</a></li>
          <li><a href="blog.html">BLOG</a></li>
          <li><a href="about.html">ABOUT</a></li>
          <li><a href="login.html">LOGIN</a></li>
        </ul>
    </div>
 </nav>



 <!--registration-->

 <div class="container">
    <div class="form-container">
  
      <form action="#" method="post" id="signup-form">
        <div class="form-toggle">
          <button class="sup2"> Sign up</button>
          <a class="sin2" href ="login.html"> Sign in</a>
      </div>
        <input type="text" placeholder="Username" id="namee" required>
        <input type="text" placeholder="Institution" id="inst" required>
        <input type="email" placeholder="Email Address" id = "email" required>
        <input type="text" placeholder="Phone Number" id="phone" required>
        <input type="password" placeholder="Password" id = "pass" required>
        <input type="submit" id="signup" value="Register"/>
        
      </form>
    </div>
  </div>
  
</body>
<script type="module">
  import{initializeApp} from "https://www.gstatic.com/firebasejs/9.18.0/firebase-app.js";
  import{getDatabase, set, update} from "https://www.gstatic.com/firebasejs/9.18.0/firebase-database.js";
  import{getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged, signOut} from "https://www.gstatic.com/firebasejs/9.18.0/firebase-auth.js";

  const firebaseConfig = {
apiKey: "AIzaSyBiydb9tqJp526GBYwTqv3S7P_ErmOntLg",
authDomain: "mom-login-a6e00.firebaseapp.com",
databaseURL: "https://mom-login-a6e00-default-rtdb.firebaseio.com",
projectId: "mom-login-a6e00",
storageBucket: "mom-login-a6e00.appspot.com",
messagingSenderId: "14987956774",
appId: "1:14987956774:web:f55080976493fa99a20ce7"
};

const app = initializeApp(firebaseConfig);
const database = getDatabase(app);
const auth = getAuth();


signup.addEventListener('click', (e)=> {
var email = document.getElementById('email').value;
var namee = document.getElementById('namee').value;
var inst = document.getElementById('inst').value;
var phone = document.getElementById('phone').value;
var pass = document.getElementById('pass').value;

createUserWithEmailAndPassword(auth, email, pass)
.then((userCredential)=> {
  const user = userCredential.user;

  set(ref(database, 'users/' + user.uid),{
          namee: namee,
          email: email
      })
  
  alert('Registration Successful!');
})
.catch((error)=>{
  const error_code = error.code;
  const error_message = error.message;
  alert(error_message);
});
});

</script>

</html>
